# Tutorial 10
## Deployment

### Setup
Install the `heroku` CLI tool. You can find it here: https://devcenter.heroku.com/articles/heroku-cli

Install git if you haven't already. You can find it here: https://git-scm.com/downloads

Make a GitHub account and a Heroku account.

### Initialize git repository
```bash
$ git init
$ git add .
$ git commit -m "Initial commit"
$ git push --set-upstream origin master
$ git subtree push --prefix tut10/frontend origin pages
```

### Modify server.js to use env var
```javascript
const port = process.env.PORT || 8000;
```

### Add Procfile to backend folder

Add the following to the `Procfile` file in your backend folder:

```
web: node server.js
```

### Initialize heroku project
```bash
$ heroku create
$ git subtree push --prefix tut10/backend heroku master
$ heroku features:enable http-session-affinity
```

### Setting up GitHub Pages
Visit https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site for instructions on setting up GitHub Pages. Make sure to choose the `pages` branch that we recently pushed to as your source.

### Modify client to point to heroku
Modify instances of localhost:8000 to the heroku domain generated by the `heroku create` command earlier. After making this change, run `git subtree push --prefix tut10/frontend origin pages` to update the frontend site.

### Visit site
Visit your new site at https://<github-username>.github.io/<repo-name>/tut10